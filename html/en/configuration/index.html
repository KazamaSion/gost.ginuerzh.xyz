<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head >
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
	<meta name="description" content="A simple tunnel written in Golang">
	<meta name="generator" content="Hugo 0.40.1" />
	
	<title>Configuration &mdash; GOST</title>
	
	<link rel="stylesheet" href="https://docs.ginuerzh.xyz/gost/css/alabaster.css" type="text/css" />
	<link rel="stylesheet" href="https://docs.ginuerzh.xyz/gost/css/highlight.css" type="text/css" />

	

	<link rel="shortcut icon" href="https://docs.ginuerzh.xyz/gost/favicon.ico" type="image/x-icon"/>
</head>

	<body role="document">
		<div class="document">
			<div class="documentwrapper">
				<div class="bodywrapper">
					<div class="body" role="main">
						
	<h1>Configuration</h1>
	
	

<div class="admonition note">
<p class="first admonition-title">Logical Layering</p>
<p>A proxy service in GOST is logically divided into two layers: Protocol and Transport, There are several optional types on each layer. The two layers are independent of each other and can be used in any combination.</p>
</div>

<p>When GOST connects to a proxy node, it first interacts with the transport type set by the transport layer. After the transport layer is established, it interacts with the protocol type set by the protocol layer.</p>

<h2 id="protocols">Protocols</h2>

<ul>
<li><p><code>http</code> - HTTP</p></li>

<li><p><code>http2</code> - HTTP2</p></li>

<li><p><code>socks4</code> - SOCKS4 (2.4+)</p></li>

<li><p><code>socks4a</code> - SOCKS4A (2.4+)</p></li>

<li><p><code>socks5</code> - SOCKS5</p></li>

<li><p><code>ss</code> - Shadowsocks</p></li>

<li><p><code>ss2</code> - Shadowsocks with AEAD support (2.8+)</p></li>

<li><p><code>sni</code> - SNI (2.5+)</p></li>

<li><p><code>forward</code> - Forward</p></li>
</ul>

<h2 id="transports">Transports</h2>

<ul>
<li><p><code>tcp</code> - Raw TCP</p></li>

<li><p><code>tls</code> - TLS</p></li>

<li><p><code>mtls</code> - Multiplex TLS, Add multiplexing on TLS (2.5+)</p></li>

<li><p><code>ws</code> - Websocket</p></li>

<li><p><code>mws</code> - Multiplex Websocket, Add multiplexing on Websocket (2.5+)</p></li>

<li><p><code>wss</code> - Websocket Secure, Websocket based on TLS encryption</p></li>

<li><p><code>mwss</code> - Multiplex Websocket Secure, Add multiplexing on Websocket Secure (2.5+)</p></li>

<li><p><code>kcp</code> - KCP (2.3+)</p></li>

<li><p><code>quic</code> - QUIC (2.4+)</p></li>

<li><p><code>ssh</code> - SSH (2.4+)</p></li>

<li><p><code>h2</code> - HTTP2 (2.4+)</p></li>

<li><p><code>h2c</code> - HTTP2 Cleartext (2.4+)</p></li>

<li><p><code>obfs4</code> - OBFS4 (2.4+)</p></li>

<li><p><code>ohttp</code> - HTTP Obfuscation (2.7+)</p></li>
</ul>

<h2 id="configuration-format">Configuration format</h2>

<p>Refer to <a href="../port-forwarding/">Port Forwarding</a> for the node configuration format related to port forwarding。</p>

<p>The configuration of nodes in GOST is similar to the URL format (For <code>-L</code> and <code>-F</code> parameters):</p>

<pre><code class="language-bash">[scheme://][user:pass@host]:port[?param1=value1&amp;param2=value2]
</code></pre>

<h3 id="scheme"><strong>scheme</strong></h3>

<p><code>scheme</code> can be a separate protocol type or transport type, or a combination of the two, it also can be empty.</p>

<h4 id="no-type-specified">No type specified</h4>

<p>The default transport layer is Raw TCP.</p>

<p>The default protocol layer is HTTP &amp; SOCKS5 for <code>-L</code> parameter and HTTP for <code>-F</code> parameter.</p>

<pre><code class="language-bash">gost -L :8080 -F :8888
</code></pre>

<h4 id="only-protocol-type-is-specified">Only protocol type is specified</h4>

<p>The default transport layer is Raw TCP.</p>

<pre><code class="language-bash">gost -L http://:8080 -F socks5://:1080
</code></pre>

<h4 id="only-transport-type-is-specified">Only transport type is specified</h4>

<p>The default protocol layer is HTTP &amp; SOCKS5 for <code>-L</code> parameter and HTTP for <code>-F</code> parameter.</p>

<pre><code class="language-bash">gost -L tls://:443 -F ws://:1443
</code></pre>

<h4 id="used-in-combination">Used in combination</h4>

<pre><code class="language-bash">gost -L http+tls://:443 -F socks5+wss://:1443
</code></pre>

<h4 id="special-schemes">Special schemes</h4>

<p>In addition to the above types, there are several special shemes:</p>

<ul>
<li><p><code>https</code> - Short form, equivalent to <code>http+tls</code></p></li>

<li><p><code>redirect</code> - TCP transparent proxy (2.3+)</p></li>
</ul>

<pre><code class="language-bash"> gost -L redirect://:12345
</code></pre>

<ul>
<li><code>ssu</code> - Shadowsocks UDP relay (2.4+)</li>
</ul>

<pre><code class="language-bash">gost -L ssu://chacha20:123456@:8338
</code></pre>

<h3 id="node-authentication"><strong>Node Authentication</strong></h3>

<p><code>user:pass</code> is used to configure the service&rsquo;s authentication information. For shadowsocks，<code>user</code> is the encryption type.</p>

<pre><code class="language-bash">gost -L admin:123456@:8080 -F ss://chacha20:123456@:8338
</code></pre>

<p>For HTTP / SOCKS5 services, you can also set multiple groups of authentication information through the <code>secrets</code> parameter:</p>

<pre><code class="language-bash">gost -L=:8080?secrets=secrets.txt
</code></pre>

<p>The file format of the secrets.txt file is line-by-line authentication information. Each line of authentication information is a user-pass pair separated by space. A line starting with <code>#</code> is a comment line.</p>

<pre><code class="language-text"># period for live reloading
reload      10s

# username password

admin           #123456
test\user001    123456
test.user@002   12345678
</code></pre>

<p><code>reload</code> - This configuration file supports live reloading. This option specifies how often the file is checked for changes, and the live reloading is disabled by default.</p>

<p><strong>NOTE:</strong> When the <code>secrets</code> parameter is used in the shadowsocks protocol, only the first entry is used as the authentication information.</p>

<p><div class="admonition warning">
<p class="first admonition-title">NOTE</p>
<p>All authentication information is for the protocol layer.</p>
</div></p>



						<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gost-ginuerzh-xyz" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
					</div>
				</div>
			</div>
			
			<div class="sphinxsidebar" role="navigation" aria-label="main navigation">
	<div class="sphinxsidebarwrapper">
		<p class="logo">
			<a href="https://docs.ginuerzh.xyz/gost/">
				<img class="logo" src="https://docs.ginuerzh.xyz/gost/favicon.ico" alt="Logo"/>
				<h1 class="logo logo-name">GOST</h1>
			</a>
		</p>
		
		<p class="blurb">A simple tunnel written in Golang</p>

		

	<p>
		<iframe src="https://ghbtns.com/github-btn.html?user=ginuerzh&repo=gost&type=watch&count=true&size=large"
		allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
	</p>

	

	
		

		

<h3>Navigation</h3>
<ul>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/">GOST</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/getting-started/">Getting Started</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/configuration/">Configuration</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/http/">HTTP(S)</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/http2/">HTTP2</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/probe_resist/">Probing Resistance</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/socks/">SOCKS</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/ss/">Shadowsocks</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/sni/">SNI</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/tls/">TLS</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/ws/">Websocket</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/kcp/">KCP</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/quic/">QUIC</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/ssh/">SSH</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/simple-obfs/">Simple-obfs</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/obfs4/">Obfs4</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/redirect/">Transparent Proxy</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/port-forwarding/">Port Forwarding</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/permission/">Permission Control</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/load-balancing/">Load Balancing</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/bypass/">Routing Control</a>
	</li>
	
	<li class="toctree-l1">
		<a class="reference internal" href="/gost/en/dns/">DNS Control</a>
	</li>
	
</ul>


		

	</div>
</div>
<div class="clearer"></div>
</div>
			<div class="footer">
	&copy; 2019 <a href="https://github.com/ginuerzh">ginuerzh</a>
	|
	Powered by <a href="http://gohugo.io/">Hugo 0.40.1</a>
	&amp; <a href="https://github.com/digitalcraftsman/hugo-alabaster-theme">Alabaster</a>
	
</div>




			

			<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
			<script>hljs.initHighlightingOnLoad();</script>
			

			
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-98791308-2', 'auto');
ga('send', 'pageview');
</script>

		</div>
	</body>
</html>